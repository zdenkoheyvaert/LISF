<!DOCTYPE html>
<!--- 
 Written by Shahryar Ahmad
 Contact: shahryarkhalique.ahmad@nasa.gov
-->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FWIS</title>
    <link rel="icon" href="images/nasalogo.png">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
    <!-- <script src="js/jquery.min.js"></script> -->
    <script src="js/skel.min.js"></script>
    <script src="js/skel-layers.min.js"></script>

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <!-- <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/> -->

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />





    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/leaflet-search.css">
    <!-- <link rel="stylesheet" href="css/styledLayerControl.css" /> -->

    <!-- For sidebar -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="https://malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">

    <link rel="stylesheet" href="css/sidebar-main.css">
    <link rel="stylesheet" href="css/sidebar-themes.css">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        // Date slider

        $(function() {
            $("#slider-date").slider({
                range: false,
                min: new Date('2020.01.01').getTime() / 1000,
                max: new Date('2020.02.29').getTime() / 1000,
                step: 86400,
                animate: 1000,
                value: new Date('2020.01.01').getTime() / 1000, //, new Date('2013.02.01').getTime() / 1000 ],
                slide: function(event, ui) {
                    $("#amount").val((new Date(ui.value * 1000).toDateString())); // + " - " + (new Date(ui.values[ 1 ] *1000)).toDateString() );
                    dateval = new Date(ui.value * 1000).toISOString().split('T')[0].replace(/-/g, "")
                    console.log(dateval);

                    if (map.hasLayer(olayer)) {
                        /// Call LS layer function
                        addLS(dateval, 1);
                    }


                    for (var id in L.GIBS_LAYERS) {
                        if (map.hasLayer(gibsLayers[id])) {
                            /// Call GIBS layer function
                            addGIBS(dateval);
                        }
                    }
                },
                // This will trigger when the value is programmatically changed
                // change: function(event, ui) {
                //     dateval = new Date(ui.values[ 0 ] *1000).toISOString().split('T')[0].replace(/-/g,"")
                //     console.log(dateval);
                //     addLS(dateval,1);
                //       // $( "#display-value" ).text(ui.value);
                //   }
            });

            $("#amount").val((new Date($("#slider-date").slider("values", 0) * 1000).toDateString())); // +
            //" - " + (new Date($( "#slider-date" ).slider( "values", 1 )*1000)).toDateString());

            // control

            //var value = 0;
            var rangeSlider = $('#slider-date').slider({
                animate: true
            });
            var uiSlider = $('.ui-slider');
            var maxSteps = 60;

            $(document).on('click', '#minus', function() {
                //$('#slider').slider({});
                value = rangeSlider.slider('value') - 86400;
                rangeSlider.slider('value', value);
                console.log('-');
                console.log(value);

                $("#amount").val((new Date(value * 1000).toDateString())); // + " - " + (new Date(ui.values[ 1 ] *1000)).toDateString() );
                dateval = new Date(value * 1000).toISOString().split('T')[0].replace(/-/g, "")
                console.log(dateval);

                if (map.hasLayer(olayer)) {
                    /// Call LS layer function
                    addLS(dateval, 1);
                }


                for (var id in L.GIBS_LAYERS) {
                    if (map.hasLayer(gibsLayers[id])) {
                        /// Call GIBS layer function
                        addGIBS(dateval);
                    }
                }

            });
            $(document).on('click', '#plus', function() {
                value = rangeSlider.slider('value') + 86400;

                rangeSlider.slider('value', value);
                console.log('+');
                console.log(value);

                $("#amount").val((new Date(value * 1000).toDateString())); // + " - " + (new Date(ui.values[ 1 ] *1000)).toDateString() );
                dateval = new Date(value * 1000).toISOString().split('T')[0].replace(/-/g, "")
                console.log(dateval);

                if (map.hasLayer(olayer)) {
                    /// Call LS layer function
                    addLS(dateval, 1);
                }


                for (var id in L.GIBS_LAYERS) {
                    if (map.hasLayer(gibsLayers[id])) {
                        /// Call GIBS layer function
                        addGIBS(dateval);
                    }
                }


            });

            var playBtn = document.getElementById("play")

            $(document).on('click', '.play', function() {

                var currentValue = rangeSlider.slider('value');

                function fantomClick() {
                    timer = setTimeout(function() {
                        $('#plus').trigger('click');
                        timer = setTimeout(arguments.callee, 1000)
                    }, 1000);
                }

                function stopCustomClick() {
                    clearTimeout(timer);
                }

                if (playBtn.innerHTML == '<i class="fas fa-play"></i>'){
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    fantomClick();
                }

                else if (playBtn.innerHTML == '<i class="fas fa-pause"></i>'){
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    console.log('stopping animation');
                    stopCustomClick();
                }


                // if ( $(this).hasClass('stopped') || !$(this).hasClass('active') ) {
                //
                //     $(this).removeClass('stopped');
                //     $(this).addClass('active');
                //
                //     //if ( !$(this).hasClass('stopped') ) {
                //     fantomClick();
                //     //}
                //
                //     for ( i=currentValue; i < maxSteps; i++ ) {
                //         if (i == maxSteps) {
                //             console.log('should be stoped');
                //         }
                //     }
                // }
                //
                // else if ( $(this).hasClass('active') ) {
                //     $(this).removeClass('active');
                //     $(this).addClass('stopped');
                //     console.log('position is ' + currentValue);
                //     stopCustomClick();
                // }
            });




        });
    </script>

    <script src="js/init.js"></script>
    <style>

    </style>
    <noscript>
        <link rel="stylesheet" href="css/skel.css" />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/style-xlarge.css" />
    </noscript>
</head>

<body>


    <div class="page-wrapper legacy-theme sidebar-bg  toggled border-radius-on">

        <!-- Header -->
        <div class=floating-menu>
            <header id="header" style="background-image:  linear-gradient(to right, #018df1 , #09521c);">
                <h1 style="font-size:23px;">Freshwater Information System</sup></h1>
                <img style="vertical-align:middle; position:absolute;padding-top:6px;" src="images/nasalogo.png" height="68" width=""></a>


                <nav id="nav">

                    <ul>
                        <li><a href="storymap.html" class="button alt fit small ">Case Studies</a></li>
                        <li><a href="#" class="button alt fit small">Docs</a></li>
                        <li><a href="#" class="button alt fit small">Publications</a></li>
                        <!-- <li><a href="https://github.com/cbev/bross/blob/master/manual_user_SASWE.pdf" target="_blank" class="button alt fit small">User Manual</a></li> -->
                        <!-- <a href = "https://www.bwdb.gov.bd/" style="text-decoration:none;" target="_blank" ><img style="vertical-align:middle" src="img/bwdb.png" height="70" width=""></a> -->
                    </ul>


                </nav>


            </header>
        </div>



        <!-- SIDEBAR -->
        <nav id="sidebar" class="sidebar-wrapper">
            <div class="sidebar-content">

                <!-- sidebar-menu  -->


                <div class=" sidebar-item sidebar-menu">
                    <span id="outlayercontrol">
                        <!-- <select id='custom-select'>
                            <option>Sherlock Holmes</option>
                            <option>The Great Gatsby</option>
                            <option>V for Vendetta</option>
                            <option>The Wolf of Wallstreet</option>
                            <option>Quantum of Solace</option>
                        </select> -->
                    </span>
                    <ul>


                        <!-- sidebar-brand  -->
                        <div class="sidebar-item sidebar-brand">
                            <a href="#">RASTERS</a>
                        </div>

                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-satellite"></i>
                                <span class="menu-text">Remote Sensing</span>
                                <!-- <span class="badge badge-pill badge-warning">New</span> -->
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <select class='custom-select select-raster' id='rs_raster'>
                                        <optgroup label="Precipitation">
                                            <option>GPM IMERG</option>
                                        </optgroup>
                                        <optgroup label="Soil Moisture">
                                            <option>SMAP</option>
                                            <option>CYGNSS</option>
                                        </optgroup>
                                        <optgroup label="Terrestrial Water Storage">
                                            <option>GRACE</option>
                                            <option>GRACE-FO</option>
                                        </optgroup>
                                        <optgroup label="Snow Depth">
                                            <option>AMSR2</option>
                                            <option>GAMMA</option>
                                        </optgroup>
                                        <optgroup label="Snow Cover">
                                            <option>MODIS</option>
                                        </optgroup>
                                        <optgroup label="Evapotranspiration">
                                            <option>ECOSTRESS</option>
                                            <option>OpenET</option>
                                            <option>Landsat</option>
                                            <option>MODIS/VIIRS ALEXI</option>
                                        </optgroup>
                                        <optgroup label="Vegetation">
                                            <option>MODIS LAI</option>
                                            <option>SMAP VOD</option>
                                            <option>GEDI</option>
                                        </optgroup>
                                        <optgroup label="Water Level">
                                            <option>Jason</option>
                                            <option>ICESAT-2</option>
                                            <option>DeltaX</option>
                                        </optgroup>
                                        <optgroup label="Water Extent">
                                            <option>MODIS</option>
                                            <option>Landsat</option>
                                            <option>Sentinel</option>
                                        </optgroup>
                                        <optgroup label="Landslides">
                                            <option>...</option>
                                        </optgroup>
                                    </select>
                                </span>
                                <span class="badge badge-pill badge-secondary">?
                                    <span class="tooltiptext" id="tooltiptext">
                                        <b>GPM IMERG Product:</b><br><br>Global Precipitation Measurement (GPM) is an international satellite mission to provide next-generation observations of rain and snow worldwide every three hours. The Integrated
                                        Multi-satellitE Retrievals for GPM (IMERG) is the unified algorithm that provides rainfall estimates combining data from all passive-microwave instruments in the GPM Constellation.
                                    </span>
                                </span>


                                <span>
                                    <select class='custom-select select-raster' id='rs_resolution'>
                                        <optgroup label="Resolution">
                                            <option>1 km</option>
                                            <option>5 km</option>
                                            <option>10 km</option>
                                        </optgroup>
                                    </select>
                                </span>

                                <div id='date-selector'>
                                    <label for="rasterdate" id='date-label'>Date:</label>
                                    <input type="date" id="rasterdate" name="rasterdate" />
                                </div>

                                <span>
                                    <button class="button button-showlayer" onclick="addRS()"><b>+ </b>Add Layer</button>
                                    <!-- <a href="#" class="button-showlayer">Add Layer</a> -->
                                </span>
                            </div>
                        </li>
                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-tree"></i>
                                <span class="menu-text">Land Surface Model</span>
                                <!-- <span class="badge badge-pill badge-danger">3</span> -->
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <select class='custom-select select-raster' id='ls_model'>
                                        <optgroup label="LIS OL">
                                            <option>NOAH-MP</option>
                                            <!-- <option>NOAH</option> -->
                                    </select>
                                </span>
                                <span class="badge badge-pill badge-secondary">?
                                    <span class="tooltiptext" id="tooltiptext_ls_model">
                                        Learn more
                                    </span>
                                </span>

                                <span>
                                    <select class='custom-select select-raster' id='ls_variable'>
                                        <option>Soil Moisture</option>
                                        <option>Precipitation</option>
                                        <option>SWE</option>
                                    </select>
                                </span>
                                <span class="badge badge-pill badge-secondary">?
                                    <span class="tooltiptext " id="tooltiptext_ls_variable">
                                        SoilMoist_tavg
                                    </span>
                                </span>

                                <span>
                                    <select class='custom-select select-raster' id='ls_resolution'>
                                        <optgroup label="Resolution">
                                            <option>1 km</option>
                                            <!-- <option>5 km</option>
                                            <option>10 km</option> -->
                                        </optgroup>
                                    </select>

                                    <!-- <div id='date-selector'>
                                        <label for="rasterdate" id='date-label'>Date:</label>
                                        <input type="date" id="rasterdate" name="rasterdate"/>
                                    </div> -->

                                </span>

                                <span>
                                    <button class="button button-showlayer" onclick="addLS('20200101',0)"><b>+ </b>Add Layer</button>
                                    <!-- <a href="#" class="button-showlayer">Add Layer</a> -->
                                </span>
                            </div>
                        </li>


                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-database"></i>
                                <span class="menu-text">Data Assimilation/ML</span>
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <select class='custom-select select-raster' id=''>
                                        <optgroup label="Water Extent">
                                            <option>Fusion (Sentinel1-Landsat)</option>
                                            <option>ML (Sentinel1-MODIS)</option>
                                        </optgroup>
                                    </select>
                                </span>
                                <span class="badge badge-pill badge-secondary">?
                                    <span class="tooltiptext">
                                        Learn more
                                    </span>
                                </span>

                                <span>
                                    <select class='custom-select select-raster' id=''>
                                        <optgroup label="Resolution">
                                            <option>10 m</option>
                                            <option>30 m</option>
                                        </optgroup>
                                    </select>
                                </span>


                                <div id='date-selector'>
                                    <label for="rasterdate" id='date-label'>Date:</label>
                                    <input type="date" id="rasterdate" name="rasterdate" />
                                </div>

                                <span>
                                    <button class="button button-showlayer"><b>+ </b>Add Layer</button>
                                    <!-- <a href="#" class="button-showlayer">Add Layer</a> -->
                                </span>
                            </div>
                        </li>


                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-globe"></i>
                                <span class="menu-text">Reanalysis/Forecasts</span>
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <select class='custom-select select-raster' id=''>
                                        <option>MERRA2</option>
                                        <option>GEOS5</option>
                                    </select>
                                </span>
                                <span class="badge badge-pill badge-secondary">?
                                    <span class="tooltiptext">
                                        Learn more
                                    </span>
                                </span>


                                <span>
                                    <select class='custom-select select-raster' id=''>
                                        <optgroup label="Resolution">
                                            <option>10 km</option>
                                            <option>25 km</option>
                                            <option>50 km</option>
                                        </optgroup>
                                    </select>
                                </span>


                                <div id='date-selector'>
                                    <label for="rasterdate" id='date-label'>Date:</label>
                                    <input type="date" id="rasterdate" name="rasterdate" />
                                </div>

                                <span>
                                    <button class="button button-showlayer"><b>+ </b>Add Layer</button>
                                    <!-- <a href="#" class="button-showlayer">Add Layer</a> -->
                                </span>
                            </div>
                        </li>


                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-globe"></i>
                                <span class="menu-text">NASA EOSDIS Global</span>
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <img src="images/gibs.png" width="27">
                                    <select class='custom-select select-raster' id='gibs_raster' >
                                        <optgroup label="Precipitation">
                                            <option value="AMSR2_Surface_Precipitation_Rate_Day">AMSR2 Surface ppt rate (Day)</option>
                                            <option value="AMSR2_Surface_Precipitation_Rate_Night">AMSR2 Surface ppt rate (Night)</option>
                                            <option value="AIRS_Precipitation_Day">Aqua/AIRS precipitation (Day)</option>
                                            <option value="AIRS_Precipitation_Night">Aqua/AIRS precipitation (Night)</option>
                                        </optgroup>
                                        <optgroup label="Soil Moisture">
                                            <option value="SMAP_L3_Passive_Enhanced_Day_Soil_Moisture">SMAP L3 Passive (Day, 9km)</option>
                                            <option value="SMAP_L3_Passive_Enhanced_Night_Soil_Moisture">SMAP L3 Passive (Night, 9km)</option>
                                            <option value="AMSRU2_Soil_Moisture_NPD_Day">AMSR-U2 NPD (Day, 25km)</option>
                                            <option value="AMSRU2_Soil_Moisture_NPD_Night">AMSR-U2 NPD (Night, 25km)</option>
                                        </optgroup>
                                        <optgroup label="Corrected Reflectance">
                                            <option value="MODIS_Terra_CorrectedReflectance_TrueColor">MODIS Terra (True Color)</option>
                                            <option value="MODIS_Aqua_CorrectedReflectance_TrueColor">MODIS Aqua (True Color)</option>
                                            <option value="MODIS_Terra_CorrectedReflectance_Bands721">MODIS Terra (Bands 7-2-1)</option>
                                            <option value="MODIS_Aqua_CorrectedReflectance_Bands721">AMSR-U2 NPD (Night, 25km)</option>
                                        </optgroup>
                                        <optgroup label="Surface Temperature">
                                            <option value="MODIS_Terra_Land_Surface_Temp_Day">MODIS Terra LST (Day)</option>
                                            <option value="MODIS_Terra_Land_Surface_Temp_Night">MODIS Terra LST (Night)</option>
                                            <option value="MODIS_Aqua_Land_Surface_Temp_Day">MODIS Aqua LST (Day)</option>
                                            <option value="MODIS_Aqua_Land_Surface_Temp_Night">MODIS Aqua LST (Night)</option>
                                        </optgroup>
                                        <optgroup label="Snow Water Equivalent">
                                            <option value="AMSR2_Snow_Water_Equivalent">AMSR2 SWE</option>
                                        </optgroup>

                                    </select>
                                </span>
                                <span class="badge badge-pill badge-secondary">?
                                    <span class="tooltiptext">
                                        <b>Global Imagery Browse Services (GIBS)</b><br><br>The GIBS imagery archive includes a large number of imagery products representing visualized science data from the NASA Earth Observing System Data and Information System (EOSDIS). Each imagery product is generated at the native resolution of the source data to provide "full resolution" visualizations of a science parameter.
                                          <a href="https://wiki.earthdata.nasa.gov/display/GIBS/GIBS+Available+Imagery+Products" target="_blank">See all products</a>
                                    </span>
                                </span>

                                <span>
                                    <button class="button button-showlayer" onclick="addGIBS('20200101')"><b>+ </b>Add GIBS</button>
                                    <!-- <a href="#" class="button-showlayer">Add Layer</a> -->
                                </span>
                            </div>
                        </li>

                        <!-- sidebar-brand  -->
                        <div class="sidebar-item sidebar-brand">
                            <a href="#">TIMESERIES</a>
                        </div>

                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-chart-line"></i>
                                <span class="menu-text">Charts</span>
                                <span class="badge badge-pill badge-primary">Beta</span>
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <a href=" javascript:addChart()">
                                        <i class="fa fa-thermometer"></i>
                                        <span class="menu-text" id="select-raster">Temperature</span>
                                    </a>
                                </span>
                            </div>
                        </li>
                        <li>
                            <a href="#">
                                <i class="fa fa-calendar"></i>
                                <span class="menu-text">Statistics</span>
                            </a>

                        </li>


                        <!-- sidebar-brand  -->
                        <div class="sidebar-item sidebar-brand">
                            <a href="storymap.html">CASE STUDIES</a>
                        </div>



                        <!-- <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-water"></i>
                                <span class="menu-text">Floods</span>
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <a href="#">
                                        <i class="fa fa-one"></i>
                                        <span class="menu-text" id="select-raster">Case Study 1</span>
                                    </a>
                                    <a href="#">
                                        <i class="fa fa-one"></i>
                                        <span class="menu-text" id="select-raster">Case Study 2</span>
                                    </a>
                                </span>
                            </div>
                        </li>


                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-tint"></i>
                                <span class="menu-text">Droughts</span>
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <a href="storymap.html">
                                        <i class="fa fa-one"></i>
                                        <span class="menu-text" id="select-raster">Case Study 1</span>
                                    </a>

                                    <a href="#">
                                        <i class="fa fa-one"></i>
                                        <span class="menu-text" id="select-raster">Case Study 2</span>
                                    </a>
                                </span>
                            </div>
                        </li> -->

                        <!-- sidebar-brand  -->
                        <div class="sidebar-item sidebar-brand">
                            <a href="#">COMPARE</a>
                        </div>

                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-images"></i>
                                <span class="menu-text">Raster Comparison</span>
                                <!-- <span class="badge badge-pill badge-primary">Beta</span> -->
                            </a>
                            <div class="sidebar-submenu">
                                <span>
                                    <a href="#">
                                        <span class="menu-text" id="select-raster">Variable 1</span>
                                    </a>
                                    <a href="#">
                                        <span class="menu-text" id="select-raster">Variable 2</span>
                                    </a>
                                </span>
                                <span>
                                    <button class="button button-showlayer" onclick="javascript:addComparison();"><b>+ </b>Compare</button>
                                    <!-- <a href="#" class="button-showlayer">Add Layer</a> -->
                                </span>
                            </div>
                        </li>



                    </ul>
                </div>
                <!-- sidebar-menu  -->
            </div>


            <!-- sidebar-footer  -->
            <div class="sidebar-footer">
                <div class="dropdown">

                    <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-bell"></i>
                        <!-- <span class="badge badge-pill badge-warning notification">3</span> -->
                    </a>
                    <div class="dropdown-menu notifications" aria-labelledby="dropdownMenuMessage">
                        <div class="notifications-header">
                            <i class="fa fa-bell"></i>
                            Notifications
                        </div>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">
                            <div class="notification-content">
                                <div class="icon">
                                    <i class="fas fa-check text-success border border-success"></i>
                                </div>
                                <div class="content">
                                    <div class="notification-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                        elit. In totam explicabo</div>
                                    <div class="notification-time">
                                        6 minutes ago
                                    </div>
                                </div>
                            </div>
                        </a>
                        <a class="dropdown-item" href="#">
                            <div class="notification-content">
                                <div class="icon">
                                    <i class="fas fa-exclamation text-info border border-info"></i>
                                </div>
                                <div class="content">
                                    <div class="notification-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                        elit. In totam explicabo</div>
                                    <div class="notification-time">
                                        Today
                                    </div>
                                </div>
                            </div>
                        </a>
                        <a class="dropdown-item" href="#">
                            <div class="notification-content">
                                <div class="icon">
                                    <i class="fas fa-exclamation-triangle text-warning border border-warning"></i>
                                </div>
                                <div class="content">
                                    <div class="notification-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                        elit. In totam explicabo</div>
                                    <div class="notification-time">
                                        Yesterday
                                    </div>
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item text-center" href="#">View all notifications</a>
                    </div>
                </div>
                <div class="dropdown">
                    <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-envelope"></i>
                        <!-- <span class="badge badge-pill badge-success notification">7</span> -->
                    </a>
                    <div class="dropdown-menu messages" aria-labelledby="dropdownMenuMessage">
                        <div class="messages-header">
                            <i class="fa fa-envelope"></i>
                            Messages
                        </div>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">
                            <div class="message-content">
                                <div class="pic">
                                    <!-- <img src="img/user.jpg" alt=""> -->
                                </div>
                                <div class="content">
                                    <div class="message-title">
                                        <strong> Jhon doe</strong>
                                    </div>
                                    <div class="message-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                        elit. In totam explicabo</div>
                                </div>
                            </div>

                        </a>
                        <a class="dropdown-item" href="#">
                            <div class="message-content">
                                <div class="pic">
                                    <!-- <img src="img/user.jpg" alt=""> -->
                                </div>
                                <div class="content">
                                    <div class="message-title">
                                        <strong> Jhon doe</strong>
                                    </div>
                                    <div class="message-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                        elit. In totam explicabo</div>
                                </div>
                            </div>

                        </a>
                        <a class="dropdown-item" href="#">
                            <div class="message-content">
                                <div class="pic">
                                    <!-- <img src="img/user.jpg" alt=""> -->
                                </div>
                                <div class="content">
                                    <div class="message-title">
                                        <strong> Jhon doe</strong>
                                    </div>
                                    <div class="message-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                        elit. In totam explicabo</div>
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item text-center" href="#">View all messages</a>

                    </div>
                </div>
                <div class="dropdown">
                    <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-cog"></i>
                        <!-- <span class="badge-sonar"></span> -->
                    </a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuMessage">
                        <a class="dropdown-item" href="#">My profile</a>
                        <a class="dropdown-item" href="#">Help</a>
                        <a class="dropdown-item" href="#">Settings</a>
                    </div>
                </div>
                <div>
                    <a href="#">
                        <i class="fa fa-power-off"></i>
                    </a>
                </div>
                <div class="pinned-footer">
                    <a href="#">
                        <i class="fas fa-ellipsis-h"></i>
                    </a>
                </div>
            </div>
        </nav>




        <!-- Map content on main page -->
        <!-- <main class="page-content pt-2"> -->
        <div id="map-container">
            <!-- For Charts -->
            <div id="chart-container">
                <iframe src="http://depts.washington.edu/saswe/columbia/temperature_reservoir.html?grandid=60&name=Bumping%20Lake" width="730" height="420" frameborder="0" scrolling="0" overflow="hidden">
                </iframe>
            </div>


            <!-- Date slider -->
            <div id="slider-date-container">
                <!-- <span id="amount"></span> -->
                <input type="text" id="amount" disabled size="100" />
                <div class="slider-date" id="slider-date"></div>
                <div id="controls">
                    <button class="controls play" id="play" title="Play Animation"><i class="fas fa-play"></i></button>
                    <!-- <button class="controls pause" id="pause"><i class="fas fa-pause"></i></button> -->
                    <button id="minus" class="controls minus" title="Step forward a day"><i class="fas fa-backward"></i></button>
                    <button id="plus" class="controls plus" title="Step backward a day"><i class="fas fa-forward"></i></button>

                </div>
            </div>


            <!-- Main map -->
            <div id="map">
            </div>


        </div>
        <!-- </main> -->



    </div>
    <!-- page-wrapper -->


    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/multi-style-layer.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <!-- <script src="js/leaflet-hash.js"></script> -->
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet-search.js"></script>
    <script src="data/MissRiverBasin0.js"></script>

    <!-- <script src="js/styledLayerControl.js"></script> -->
    <script src="https://unpkg.com/esri-leaflet@2.1.1/dist/esri-leaflet.js"></script>
    <script src="js/L.Control.HtmlLegend.js"></script>
    <!-- for raster vis -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://npmcdn.com/geotiff@0.3.6/dist/geotiff.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.0/chroma.min.js"></script>
    <script src="js/leaflet.canvaslayer.field.js"></script>
    <script src="js/leaflet-side-by-side.js"></script>

    <!-- GIBS layers -->
    <script src="js/GIBSLayer.js"></script>
    <script src="js/GIBSMetadata.js"></script>

    <script>
        // Initializations
        var highlightLayer;
        var olayer = L.imageOverlay();

        var gibsLayers = {};
        for (var id in L.GIBS_LAYERS) {
            gibsLayers[id] = new L.GIBSLayer(id, {
                date: new Date("2020-01-01"),
                transparent: true
            });
        }



        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString') {
                highlightLayer.setStyle({
                    color: '#ffff00',
                });
            } else {
                highlightLayer.setStyle({
                    fillColor: '#ffff00',
                    fillOpacity: 1
                });
            }

            // highlightLayer.openPopup();
        }
        var map = L.map('map', {
            zoomControl: false
        }).fitBounds([
            [26.4186734618, -114.481892907],
            [47.9971685679, -69.8194993952]
        ]);
        map.setZoom(4);



        // var hash = new L.Hash(map);
        // map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({
            truncate: {
                length: 30,
                location: 'smart'
            }
        });
        var bounds_group = new L.featureGroup([]);

        function setBounds() {}


        function style_MissRiverBasin0_0() {
            return {
                pane: 'pane_MissRiverBasin0',
                opacity: 1,
                color: 'rgba(36,151,227,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 4.0,
                fillOpacity: 0,
            }
        }
        map.createPane('pane_MissRiverBasin0');
        map.getPane('pane_MissRiverBasin0').style.zIndex = 400;
        map.getPane('pane_MissRiverBasin0').style['mix-blend-mode'] = 'normal';
        var layer_MissRiverBasin0 = new L.geoJson(json_MissRiverBasin0, {
            attribution: '<a href=""></a>',
            pane: 'pane_MissRiverBasin0',
            style: style_MissRiverBasin0_0,
        });

        bounds_group.addLayer(layer_MissRiverBasin0);
        map.addLayer(layer_MissRiverBasin0);
        setBounds();


        // Base Layers  //////////////////////////
        var basemapDark = L.esri.basemapLayer('DarkGray');
        basemapDark.addTo(map);

        var basemapTopo = L.esri.basemapLayer('Topographic');

        var basemapTerrain = L.esri.basemapLayer('Terrain');


        var basemapStreet = L.esri.basemapLayer('Streets');
        var basemap2 = L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS',
            maxZoom: 13
        });


        var Stamen_Terrain = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}', {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
            subdomains: 'abcd',
            minZoom: 0,
            maxZoom: 18,
            ext: 'png'
        });

        var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
        });

        var Esri_NatGeoWorldMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC',
            maxZoom: 16
        });
        var Thunderforest_Landscape = L.tileLayer('https://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png?apikey=33cde94253dc46b0a4945dd1b82ec5c6', {
            attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            apikey: '<your apikey>',
            maxZoom: 22
        });



        var baseLayers = {
            "Dark": basemapDark,
            "Satellite": Esri_WorldImagery,
            "Terrain": basemapTerrain,
            "Topographic": basemapTopo
        };


        // L.control.layers({}, {
        //     '<img src="legend/MissRiverBasin0.png" id="leg" width="13"/> Mississippi Basin': layer_MissRiverBasin0,
        // }, {
        //     position: 'topright',
        //     collapsed: false
        // }).addTo(map);


        setBounds();

        L.control.layers(baseLayers, {
            '<img src="legend/MissRiverBasin0.png" id="leg" width="13"/> Mississippi Basin': layer_MissRiverBasin0,
        }, {
            position: "topright"
        }).addTo(map);



        var scale = L.control.scale({
            position: 'bottomright'
        }).addTo(map);
        L.control.zoom({
            position: 'bottomright',
            minZoom: 3,
            maxZoom: 21
        }).addTo(map);


        // Initialize legend for RS data
        var controlRS = L.control.layers({}, {}, {
            position: "topleft",
            collapsed: false
        });
        // controlRS.addTo(map);

        var legend = L.control({
            position: 'topleft'
        });




        ///////////////////////////////////// ADDITIONAL FUNCTIONALITIES ///////////////////////


        // Add/remove compare dataset option
        // function fireRS(checkboxElem) {
        //     console.log('fired');
        //     if (checkboxElem.checked) {
        //         addRS();
        //
        //     } else {
        //         removeRS();
        //     }
        // }



        // I. Raster vis //////////////////////////////////////
        // map.removeControl(legendRS);

        function addRS() {
            controlRS.addTo(map);

            var rs_raster = document.getElementById("rs_raster");
            var rs_resolution = document.getElementById("rs_resolution")

            var rs_raster_text = rs_raster.options[rs_raster.selectedIndex].text
            console.log('Selected RS data: ' + rs_raster_text);



            if (rs_raster_text == 'ECOSTRESS') {
                document.getElementById("tooltiptext").innerHTML = "Info about ECOSTRESS";

                // var imageUrl = './Datasets/test/eco2.png'
                // imageBounds = [[32.5043572, -109.4463811], [37.7457668,-103.7475784]]; // [[ymin, xmin][ymax, xmax]]
                var imageUrl = './Datasets/test/et_20180805.png'
                imageBounds = [
                    [31.0741952, -95.6387760],
                    [36.0086183, -89.5704962]
                ]; // [[ymin, xmin][ymax, xmax]]

                var olayer = L.imageOverlay(imageUrl, imageBounds)
                olayer.addTo(map);
                olayer.bringToFront()

                controlRS.addOverlay(olayer, 'ECO3ETPTJPL')

                // Legend////////
                legend.onAdd = function(map) {

                    var div = L.DomUtil.create('div', 'info legend');
                    div.innerHTML += '<img src="images/ET_legend.png" width="300" /><br>';
                    return div;
                };

                legend.addTo(map);

            } else if (rs_raster_text == 'GPM IMERG') {
                document.getElementById("tooltiptext").innerHTML =
                    "<b>GPM IMERG Product:</b><br><br>Global Precipitation Measurement (GPM) is an international satellite mission to provide next-generation observations of rain and snow worldwide every three hours. The Integrated Multi-satellitE Retrievals for GPM (IMERG) is the unified algorithm that provides rainfall estimates combining data from all passive-microwave instruments in the GPM Constellation.";
                imageBounds = [
                    [29.4000000, -113.6500000],
                    [49.0500000, -83.9000000]
                ];
                var imageUrl = './Datasets/test/CHIRPS_DAILY_precipitation_color.png'

                var player = L.imageOverlay(imageUrl, imageBounds)
                player.addTo(map);
                player.bringToFront()

                controlRS.addOverlay(player, 'GPM IMERG')

                // Legend////////
                legend.onAdd = function(map) {

                    var div = L.DomUtil.create('div', 'info legend');
                    div.innerHTML += '<img src="images/Precip_legend.png" width="300" /><br>';
                    return div;
                };

                legend.addTo(map);


                // d3.request("./Datasets/test/CHIRPS_DAILY_precipitation.tiff").responseType('arraybuffer').get(
                //     function (error, tiffData) {
                //         // Geopotential height (BAND 0)
                //         let geo = L.ScalarField.fromGeoTIFF(tiffData.response, bandIndex = 0);
                //         let color_range = geo.range
                //         let layerPrecip = L.canvasLayer.scalarField(geo, {
                //             color: chroma.scale('RdPu').domain(color_range),
                //             opacity: 0.9
                //         })
                //         layerPrecip.on('click', function (e) {
                //             if (e.value !== null) {
                //                 let v = e.value.toFixed(0);
                //                 let html = (`<span class="popupText">Precipitation ${v} mm</span>`);
                //                 let popup = L.popup()
                //                     .setLatLng(e.latlng)
                //                     .setContent(html)
                //                     .openOn(map);
                //             }
                //         });
                //
                //         // map.fitBounds(layerPrecip.getBounds());
                //         layerPrecip.addTo(map);
                //         controlRS.addOverlay(layerPrecip,'GPM IMERG')
                //     }
                // );

            }
        }


        // II. LSM vis //////////////////////////////////////

        function addLS(dateval, fromSlider) {
            /// fade out exiting layer
            $(olayer._image).fadeOut(300, function() {
            });

            // if (fromSlider == 1) {
            //     cntLayer = 0
            //     map.eachLayer(function() {
            //         cntLayer += 1;
            //     });
            //     console.log('num ' + cntLayer);
            //     if (cntLayer > 15) {
            //         console.log('num ' + cntLayer);
            //         map.removeLayer(olayer)
            //     }
            // }
            // else if (fromSlider == 0) {   // coming from add layer button
            //     map.eachLayer(function (layer) {
            //         map.removeLayer(layer);
            //     });
            // }

            var slider_container = document.getElementById("slider-date-container");

            slider_container.style.display = "block";


            var ls_model = document.getElementById("ls_model");
            var ls_variable = document.getElementById("ls_variable")
            var ls_resolution = document.getElementById("ls_resolution")

            var ls_model_text = ls_model.options[ls_model.selectedIndex].text
            var ls_variable_text = ls_variable.options[ls_variable.selectedIndex].text
            console.log('Selected LS data: ' + ls_model_text);

            // var dateval = $('#slider-date').slider("option", "value");
            console.log('in ls ' + dateval);

            if (ls_model_text == 'NOAH-MP') {
                if (ls_variable_text == 'Soil Moisture') {
                    document.getElementById("tooltiptext_ls_model").innerHTML = "LIS (Noah-MP) output at 0.01-deg resolution in 2020 for the EIS Freshwater Project. <br>POC: Shugong Wang, shugong.wang@nasa.gov"
                    document.getElementById("tooltiptext_ls_variable").innerHTML = "SoilMoist_tavg"

                    // var imageUrl = './Datasets/test/eco2.png'

                    var imageUrl = './Datasets/SoilMoist_tavg/SoilMoist_tavg_' + dateval + '0000.png'
                    imageBounds = [
                        [28.935, -113.925],
                        [49.735, -77.845]
                    ]; // [[ymin, xmin][ymax, xmax]]


                    olayer = L.imageOverlay(imageUrl, imageBounds)

                    olayer.addTo(map);
                    olayer.bringToFront()

                    // controlRS.addOverlay(olayer,'Soil Moisture (NOAH-MP)')   // only add overlay when first button clicked

                    // Legend////////
                    legend.onAdd = function(map) {

                        var div = L.DomUtil.create('div', 'info legend');
                        div.innerHTML += '<img src="images/SM_legend.png" width="300" /><br>';
                        return div;
                    };
                    legend.addTo(map);

                } else if (ls_variable_text == 'Precipitation') {
                    document.getElementById("tooltiptext_ls_model").innerHTML = "LIS (Noah-MP) output at 0.01-deg resolution in 2020 for the EIS Freshwater Project. <br>POC: Shugong Wang, shugong.wang@nasa.gov"
                    document.getElementById("tooltiptext_ls_variable").innerHTML = "TotalPrecip_tavg"


                    var datesel = $('#amount').text();
                    console.log(datesel);
                    // var imageUrl = './Datasets/test/eco2.png'
                    // imageBounds = [[32.5043572, -109.4463811], [37.7457668,-103.7475784]]; // [[ymin, xmin][ymax, xmax]]
                    var imageUrl = './Datasets/TotalPrecip_tavg/TotalPrecip_tavg_' + dateval + '0000.png'
                    imageBounds = [
                        [28.935, -113.925],
                        [49.735, -77.845]
                    ]; // [[ymin, xmin][ymax, xmax]]

                    olayer = L.imageOverlay(imageUrl, imageBounds)
                    olayer.addTo(map);
                    olayer.bringToFront()
                    // controlRS.addOverlay(olayer,'Precipitation (NOAH-MP)')

                    // Legend////////
                    legend.onAdd = function(map) {

                        var div = L.DomUtil.create('div', 'info legend');
                        div.innerHTML += '<img src="images/Precip_legend.png" width="300" /><br>';
                        return div;
                    };

                    legend.addTo(map);

                } else if (ls_variable_text == 'SWE') {
                    document.getElementById("tooltiptext_ls_model").innerHTML = "LIS (Noah-MP) output at 0.01-deg resolution in 2020 for the EIS Freshwater Project. <br>POC: Shugong Wang, shugong.wang@nasa.gov"
                    document.getElementById("tooltiptext_ls_variable").innerHTML = "SWE_tavg"


                    var datesel = $('#amount').text();
                    console.log(datesel);
                    // var imageUrl = './Datasets/test/eco2.png'
                    // imageBounds = [[32.5043572, -109.4463811], [37.7457668,-103.7475784]]; // [[ymin, xmin][ymax, xmax]]
                    var imageUrl = './Datasets/SWE_tavg/SWE_tavg_' + dateval + '0000.png'
                    imageBounds = [
                        [28.935, -113.925],
                        [49.735, -77.845]
                    ]; // [[ymin, xmin][ymax, xmax]]

                    olayer = L.imageOverlay(imageUrl, imageBounds)
                    olayer.addTo(map);
                    olayer.bringToFront()

                    // controlRS.addOverlay(olayer,'SWE (NOAH-MP)')

                    // Legend////////
                    legend.onAdd = function(map) {

                        var div = L.DomUtil.create('div', 'info legend');
                        div.innerHTML += '<img src="images/SWE_legend.png" width="300" /><br>';
                        return div;
                    };

                    legend.addTo(map);

                }
            }
        }


        // Chart Vision

        function addChart() {
            var chart_cont = document.getElementById("chart-container");
            if (chart_cont.style.display === "none") {
                chart_cont.style.display = "block";
            } else {
                chart_cont.style.display = "none";
            }

        }

        // Comparison

        function addComparison() {
            imageBounds = [
                [29.4000000, -113.6500000],
                [49.0500000, -83.9000000]
            ];
            var imageUrl = './Datasets/test/CHIRPS_DAILY_precipitation_color.png'

            var player = L.imageOverlay(imageUrl, imageBounds)


            var imageUrl = './Datasets/test/et_20180805.png'
            imageBounds = [
                [31.0741952, -95.6387760],
                [36.0086183, -89.5704962]
            ]; // [[ymin, xmin][ymax, xmax]]

            var olayer = L.imageOverlay(imageUrl, imageBounds)


            L.control.sideBySide(olayer, player).addTo(map);
        }


        // GIBS layers Adding
        var gibsLayers = {};
        for (var id in L.GIBS_LAYERS) {
            gibsLayers[id] = new L.GIBSLayer(id, {
                date: new Date("2020-01-01"),
                transparent: true
            });
        }

        function addGIBS(dateval) {
            for (var id in L.GIBS_LAYERS) {
                if (map.hasLayer(gibsLayers[id])) {
                    id_added = id
                    map.removeLayer(gibsLayers[id]);
                }
            }

            var slider_container = document.getElementById("slider-date-container");

            slider_container.style.display = "block";

            var gibs_raster = document.getElementById("gibs_raster");

            var gibs_raster_val = gibs_raster.options[gibs_raster.selectedIndex].value
            console.log('Selected GIBS data: ' + gibs_raster_val);


            // var dateval = $('#slider-date').slider("option", "value");
            console.log('in gibs ' + dateval);
            var year = dateval.substring(0, 4);
            var month = dateval.substring(4, 6);
            var day = dateval.substring(6, 8);

            dateval_gibs = year + '-' + month + '-' + day;
            startDate = new Date(dateval_gibs);

            for (var id in L.GIBS_LAYERS) {
                gibsLayers[id] = new L.GIBSLayer(id, {
                    date: startDate, //new Date(dateOrig),
                    transparent: true
                });
            }

            // var now = new Date();
            // var oneDay = 1000 * 60 * 60 * 24, // milliseconds in one day
            //     startTimestamp = now.getTime() - oneDay + now.getTimezoneOffset() * 60 * 1000,
            //     startDate = new Date(startTimestamp); //previous day

            // var dateOrig = document.getElementById('seldate').value;

            // gibsLayers['Reference_Features'].addTo(map);
            // gibsLayers['Reference_Features'].bringToFront();
            gibsLayers[gibs_raster_val].addTo(map);


            overlayGibs = [{
                groupName: "Borders",
                expanded: true,
                layers: {
                    "Country/State Borders": gibsLayers['Reference_Features']
                }
            }];


            // L.control.layers(null,gibsLayers, {collapsed: true}).addTo(map);
            // var gibscontrol = L.control.layers(baseMapsGibs, overlayGibs, {
            //     collapsed: false
            // }); //.addTo(map);
            // map.addControl(gibscontrol);

        }
    </script>

    <!--JavaScript at end of body for optimized loading-->
    <!-- for sidebar -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
    </script>
    <script src="https://malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="js/sidebar-main.js"></script>


</body>

</html>
